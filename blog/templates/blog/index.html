{% extends 'blog/base.html' %}
{% load staticfiles %}
{% load blog_extras %}

{% block body_block %}
<!-- Category Tabs -->
<div class="container-fluid" id="category-bar">
  <div class="container">
    <ul class="nav nav-tabs">
      <li role="presentation" class="active">
        <a href="#recent-posts" aria-controls="recent-posts"
        role="tab" data-toggle="tab">Recent Posts</a>
      </li>
      {% for cat in categories %}
      <li role="presentation">
        <a href="#{{ cat.slug }}" aria-controls="{{ cat.slug }}"
        role="tab" data-toggle="tab">{{ cat.name }}</a>
      </li>
      {% endfor %}
    </ul>
  </div>
</div>

<!-- Category panes -->
<div class="container">
  <div class="tab-content plain-anchors">
    <!-- Recent Posts Page -->
    <div role="tabpanel" class="tab-pane active" id="recent-posts">
      <div class="row">
        {% for post in recent_posts %}
        <div class="col-md-4 col-sm-6">
          <a href="#">
            <div class="post-tab {{ post.categories.first.slug }}-post">
              <div class="post-tab-title">
                <h4><strong>{{ post.title }}</strong></h4>
                <hr>
                <h5>{{ post.published_date.date }}</h5>
              </div>
            </div>
          </a>
        </div>
        {% endfor %}
      </div>
    </div>

    <!-- Category Pages -->
    {% for cat in categories %}
    <div role="tabpanel" class="tab-pane" id="{{ cat.slug }}">
      <div class="row">
        {% for post in cat_dict|key_value:cat.slug %}
        <div class="col-md-4 col-sm-6">
          <a href="#">
            <div class="post-tab {{ post.categories.first.slug }}-post">
              <div class="post-tab-title">
                <h4><strong>{{ post.title }}</strong></h4>
                <hr>
                <h5>{{ post.published_date.date }}</h5>
              </div>
            </div>
          </a>
        </div>
        {% endfor %}
      </div>
    </div>
    {% endfor %}
  </div>
</div>
{% endblock %}
