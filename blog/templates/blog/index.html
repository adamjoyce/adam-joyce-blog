{% extends 'blog/base.html' %}
{% load staticfiles %}

{% block body_block %}
<!-- Category tabs -->
<div class="container-fluid" id="category-bar">
  <div class="container">
    <ul class="nav nav-tabs">
      <li role="presentation" class="active">
        <a href="#recent-posts" aria-controls="recent-posts"
        role="tab" data-toggle="tab">Recent Posts</a>
      </li>
      {% for cat in categories %}
      <li role="presentation">
        <a href="#{{ cat.slug }}" aria-controls="{{ cat.slug }}"
        role="tab" data-toggle="tab">{{ cat.name }}</a>
      </li>
      {% endfor %}
    </ul>
  </div>
</div>

<!-- Category panes -->
<div class="container">
  <div class="tab-content">
    <div role="tabpanel" class="tab-pane active" id="recent-posts">
      {% for post in posts %}
      {% if forloop.first %}<div class="row">{% endif %}
      <div class="col-md-4">
        <a href="#">
          <div class="post-tab {{ post.categories.first.slug }}-post">
            <div class="post-tab-title">
              <h4>{{ post.title }}</h4>
              <hr>
              <h5>{{ post.published_date.date }}</h5>
            </div>
          </div>
        </a>
      </div>
      {% if forloop.counter|divisibleby:3 %}</div><div class="row">{% endif %}
      {% if forloop.last %}</div>{% endif %}
      {% endfor %}
    </div>
    {% for cat in categories %}
    <div role="tabpanel" class="tab-pane" id="{{ cat.slug }}">
      {{ cat.name }}
    </div>
    {% endfor %}
  </div>
</div>
{% endblock %}
